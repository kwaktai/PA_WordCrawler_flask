<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Translator11</title>
  </head>
  <body>
    <h1>Translator11</h1>
    <form id="translate-form">
      <label for="translate-input">Enter text111:</label><br />
      <textarea id="translate-input" name="translate-input" rows="4" cols="50"></textarea><br />
      <button type="submit">Translate</button>
    </form>
    <br />
    <h2>Translation Result:</h2>
    <div id="translate-output"></div>
  </body>
</html>
<script src="/static/translate.js"></script>
<script>
  const form = document.getElementById('translate-form');
  form.addEventListener('submit', event => {
    event.preventDefault();
    const text = document.getElementById('translate-input').value;
    fetch('/translate', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ text: text }),
    })
      .then(response => response.json())
      .then(data => {
        const output = document.getElementById('translate-output');
        output.innerHTML = '';
        for (const sentence of data.sentences) {
          const source = sentence.source;
          const target = sentence.target;
          const sentenceDiv = document.createElement('div');
          sentenceDiv.innerHTML = `<p><strong>${source}</strong> &rarr; ${target}</p>`;
          output.appendChild(sentenceDiv);
        }
        const wordsDiv = document.createElement('div');
        wordsDiv.innerHTML = '<h3>Top 20 Words:</h3>';
        output.appendChild(wordsDiv);
        for (const word of data.words) {
          const source = word.source;
          const target = word.target;
          const wordDiv = document.createElement('div');
          wordDiv.innerHTML = `<p><strong>${source}</strong> &rarr; ${target}</p>`;
          wordsDiv.appendChild(wordDiv);
        }
      })
      .catch(error => console.error(error));
  });
</script>

</html>